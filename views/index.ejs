<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="../js/index.js"></script>
  <title>Lista Książek</title>
</head>
<body>


  <!-- Formularz dodawania użytkownika -->
  <h2>Dodaj książkę</h2>

  <table class="table table-striped">
    <thead>
      <tr>
        <th><button type="button" name="add" id="add" data-toggle="modal" data-target="#add_data_Modal" class="btn btn-warning">Dodaj książkę</button>  </th>
        <th>  
          <form action="http://localhost:3000/api-docs/">
          <input type="submit" value="Swagger" class="btn btn-warning" />
          </form>
        </th>
        <th>  
          <form action="http://localhost:3000/graphql">
          <input type="submit" value="GraphQL" class="btn btn-warning" />
          </form>
        </th>
      </tr>
    </thead>
  </table>


  
  <div id="add_data_Modal" class="modal fade">  
    <div class="modal-dialog">  
         <div class="modal-content">  
              <div class="modal-header">  
                   <button type="button" class="close" data-dismiss="modal">&times;</button>  
              </div>  
              <div class="modal-body">  
                   <form action="/users" method="post" id="insert_form">  
                        <label>Tytuł:</label>  
                        <input type="text" name="title"  class="form-control" required/>  
                        <br />  
                        <label>Autor:</label>  
                        <input type="text" name="author"  class="form-control" required/> 
                        <br />    
                        <input type="submit"  class="btn btn-success"  />  
                   </form>  
              </div>  
              <div class="modal-footer">  
                   <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>  
              </div>  
         </div>  
    </div>  
</div> 


<h1>Lista Książek</h1>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Tytuł</th>
        <th>Autor</th>
        <th>Edytuj</th>
        <th>Usuń</th>
      </tr>
    </thead>
    <tbody>
      <% users.forEach(user => { %>
        <tr>
          <td><%= user.title %></td>
          <td><%= user.author %></td>
          <td>
              <!--  edytowania użytkownika -->
              <form action="/users/<%= user._id %>/edit" method="GET">
                <button type="submit" class="btn btn-warning" >Edit</button>
              </form>
          </td>
          <td>
            <!--  usuwania użytkownika -->
            <form action="/users/<%= user._id %>/delete" method="POST">
              <button type="submit" class="btn btn-danger">Usuń</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>

   dupa

 	<h1>Users</h1>

	
<script>fetchData();</script>
	

  <table>
    <thead>
      <tr>
        <th>Author</th>
        <th>Title</th>
      </tr>
    </thead>
    <tbody id="data-table">
    </tbody>
  </table>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="../js/index.js"></script>


 </body>
</body>
</html>